\chapter{Knji"znica in gradniki za Orange}

V okviru diplomske naloge smo razvili tri lo"cene komponente za programerje in
kon"cne uporabnike. Prva komponenta je programska knji"znica simple\_wbd, ki
omogo"ca enostaven dostop do programskega vmesnika indikatorjev in klimatskih
podatkov Svetovne banke. Ta knji"znica je narejena s "cim manj odvisnosti
(dependencies, requirements?) in je namenjena splo"sni uporabi v python
programih. Poudarek na knji"znici simple\_wbd je predvsevm enostavnost 
raz"siritve in zanesljivost. Drugi sestavni del, je raz"siritev knji"znice
simple\_wbd s funkcionalnostmi potrebnimi za la"zje delo v programu Orange.
To predvsem zavzema pretvorbo pridobljenih podatkov v Orange in numpy tabele.
Ta sklop je namenjen skriptnemu delu s programom Orange in je dostopen kot
api\_wrapper python modul. Tretji sestavni del pa je grafi"cni vmesnik za
uporabo api\_wrapper modula. Namen grafi"cnega vmesnika je omogo"citi ne
programerjem dostop do podatkov programskega vmesnika Svetovne banke znotraj
programa za analizo in ... .

\section{Knjiznica simple\_wbd}

Simple\_wbd je knjiznica, ki programerjem olajsa dostop do podatkov
programskega vmesnika svetovne banke. Glavna lastnost te knjiznice je
zdruzevanje ve"cjega "stevila zahtev po podatkih, in enostavna predstavitev
dobljenih podatkov. Druga lastnost je pretvorba podatkov iz vec dimenzij, v
dvo-dimenzionalno polje, ki je primerno za uporabo v programu Orange. Dva
glavna vmesnika te knji"znice sta IndicatorAPI in ClimateAPI. Prvi omogoca
pridobivanje podatkov z indikator programskega vmesnika Svetovne banke, drugi
pa s climate programskega vmesnika.




% moznost razsiritve z dedovanjem dataset razreda.
% 

- omogo"ca pridobivanje vrednosti za filtre:
    - indicator api: drzave in agregati, indikatorji
    - climate api: drzave, tipi podatkov, meritveno obdobje 

- Zahteva za podatke vraca dataset objekt ki ponuja surove podatke, ali pa eno
  drugo obliko. 2D array ali pa dict.

- Dataset razred lahko tudi poljubno razsirimo.



\subsection{Pom"cnik IndicatorAPI}

IndicatorAPI je razred namenjen pridobivanju podatkov indikatorjev razvoja.
Vrednosti teh podatkov so (dolocene/ oznake s katerimi lahko do vrednosti
dostopamo) z dr"zavo, casovno komponento, in imenom indikatorja. Te podatke
lahko predstavimo na dva glavna na"cina:

 - kot gnezdeni slovar, kjer je na prvem nivoju ime indikatorja, na drugem
   drzava, in na tretjem nivoju casovna komponenta.

 - Kot dvo-dimenzionalno polje, kjer imamo v vrsticah eno oznako, v stolpcih
   pa kartezicni produkt ostalih dveh. ponujene moznosti so:
   - vrstice = drzava, stolpci = cas x indikator
   - vrstice = cas, stolpci = drzava x indikator






% notes:
% 3 dimenzije: cas, drzava, indikator > vrednost
% 
% lahko damo v:
% 
% 
%    \    drzava x indikator
%   cas
% 
%  ali: 
% 
%    \    cas x indikator
% drzava
% 


indicator response:

\begin{verbatim}
[

    {
        "page": 1,
        "pages": 1,
        "per_page": "50",
        "total": 1
    },
    [
        {
            "indicator": {
                "id": "PA.NUS.PPP.05",
                "value": "2005 PPP conversion factor, GDP (LCU per international \$)"
            },
            "country": {
                "id": "SI",
                "value": "Slovenia"
            },
            "value": "0.611602841",
            "decimal": "2",
            "date": "2005"
        }
    ]

]
\end{verbatim}


\subsection{Pom"cnik ClimateAPI}

IndicatorAPI je 



% notes:
% 3 dimenzije: cas (decade,year,month), drzava, tip (pr/ tas)
% 
% lahko damo v poljubno konfiguracijo z nastetimi elementi v stolpcu
% 
% stolpci = [drzava, cas] => vrstice = tip ... naredi kartezicni produkt



\section{api\_wrapper}

% doda "as orange table" in "as numpy" obema indikator apiju in climate apiju.


razsiritev simple wbd vmesnikov z dedovanjem pravega dataset razreda.

\begin{verbatim}
class ClimateDataset(simple_wbd.ClimateDataset):
    
    def as_numpy(self):
        raise NotImplemented()
    
    def as_orange_table(self):
        raise NotImplemented()

class ClimateAPI(simple_wbd.ClimateAPI):

    def __init__(self):
        super().__init__(ClimateDataset)
\end{verbatim}





\section{Grafi"cni vmesnik}


- Lazja uporaba.
- Vecja preglednost,
- lazje iskanje (text search filter)
