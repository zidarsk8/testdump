\chapter{Knji"znica in gradniki za Orange}

V okviru diplomske naloge smo razvili tri lo"cene komponente za programerje in
kon"cne uporabnike. Prva komponenta je programska knji"znica simple\_wbd, ki
omogo"ca enostaven dostop do programskega vmesnika indikatorjev in klimatskih
podatkov Svetovne banke. Ta knji"znica je narejena s "cim manj odvisnosti
(dependencies, requirements?) in je namenjena splo"sni uporabi v python
programih. Poudarek na knji"znici simple\_wbd je predvsem enostavnost 
raz"siritve in zanesljivost. Drugi sestavni del, je raz"siritev knji"znice
simple\_wbd s funkcionalnostmi potrebnimi za la"zje delo v programu Orange.
To predvsem zavzema pretvorbo pridobljenih podatkov v Orange in numpy tabele.
Ta sklop je namenjen skriptnemu delu s programom Orange in je dostopen kot
api\_wrapper python modul. Tretji sestavni del pa je grafi"cni vmesnik za
uporabo api\_wrapper modula. Namen grafi"cnega vmesnika je omogo"citi ne
programerjem dostop do podatkov programskega vmesnika Svetovne banke znotraj
programa za analizo in ... .

\section{Knji"znica simple\_wbd}

Simple\_wbd je knji"znica, ki programerjem olaj"sa dostop do podatkov
programskega vmesnika Svetovne banke. Glavna lastnost te knji"znice je
zdru"zevanje ve"cjega "stevila zahtev po podatkih, in enostavna predstavitev
dobljenih podatkov. Druga lastnost je pretvorba podatkov iz ve"c dimenzij, v
dvo-dimenzionalno polje, ki je primerno za uporabo v programu Orange. Dva
glavna vmesnika te knji"znice sta IndicatorAPI in ClimateAPI. Prvi omogo"ca
pridobivanje podatkov Svetovne banke s programskega vmesnika indikator, drugi
pa s programskega vmesnika climate.




% mo"znost raz"siritve z dedovanjem razreda dataset.
% 

- omogo"ca pridobivanje vrednosti za filtre:
    - indicator api: dr"zave in agregati, indikatorji
    - climate api: dr"zave, tipi podatkov, meritveno obdobje 

- Zahteva za podatke vra"ca objekt dataset ki ponuja surove podatke, ali pa eno
  drugo obliko. 2D array ali pa dict.

- razred Dataset lahko tudi poljubno raz"sirimo.



\subsection{Pomo"cnik IndicatorAPI}

IndicatorAPI je razred namenjen pridobivanju podatkov indikatorjev razvoja.
Vrednosti teh podatkov so (dolo"cene/ oznake s katerimi lahko do vrednosti
dostopamo) z dr"zavo, "casovno komponento, in imenom indikatorja. Te podatke
lahko predstavimo na dva glavna na"cina:

 - kot gnezdeni slovar, kjer je na prvem nivoju ime indikatorja, na drugem
   dr"zava, in na tretjem nivoju "casovna komponenta.

 - Kot dvo-dimenzionalno polje, kjer imamo v vrsticah eno oznako, v stolpcih
   pa kartezi"cni produkt ostalih dveh. ponujene mo"znosti so:
   - vrstice = drzava, stolpci = "cas x indikator
   - vrstice = "cas, stolpci = dr"zava x indikator






% notes:
% 3 dimenzije: cas, drzava, indikator > vrednost
% 
% lahko damo v:
% 
% 
%    \    drzava x indikator
%   cas
% 
%  ali: 
% 
%    \    cas x indikator
% drzava
% 


indicator response:

\begin{verbatim}
[

    {
        "page": 1,
        "pages": 1,
        "per_page": "50",
        "total": 1
    },
    [
        {
            "indicator": {
                "id": "PA.NUS.PPP.05",
                "value": "2005 PPP conversion factor, GDP (LCU per international \$)"
            },
            "country": {
                "id": "SI",
                "value": "Slovenia"
            },
            "value": "0.611602841",
            "decimal": "2",
            "date": "2005"
        }
    ]

]
\end{verbatim}


\subsection{Pomo"cnik ClimateAPI}

IndicatorAPI je 



% notes:
% 3 dimenzije: cas (decade,year,month), drzava, tip (pr/ tas)
% 
% lahko damo v poljubno konfiguracijo z nastetimi elementi v stolpcu
% 
% stolpci = [drzava, cas] => vrstice = tip ... naredi kartezicni produkt



\section{api\_wrapper}

% doda "as orange table" in "as numpy" obema indikator apiju in climate apiju.


raz"siritev simple wbd vmesnikov z dedovanjem pravega razreda dataset.

\begin{verbatim}
class ClimateDataset(simple_wbd.ClimateDataset):
    
    def as_numpy(self):
        raise NotImplemented()
    
    def as_orange_table(self):
        raise NotImplemented()

class ClimateAPI(simple_wbd.ClimateAPI):

    def __init__(self):
        super().__init__(ClimateDataset)
\end{verbatim}





\section{Grafi"cni vmesnik}


- La"zja uporaba.
- Ve"cja preglednost,
- la"zje iskanje (text search filter)
